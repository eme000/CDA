<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ma Deuxième Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: #f2f2f2;
            padding: 10px;
            text-align: left;
        }
        section {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            padding: 20px;
        }
        .info-block {
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 10px;
            padding: 15px;
            width: 300px;
            cursor: pointer;
            text-align: center;
        }
        .info-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 10px 0;
        }
        .info-row img {
            width: 20px;
            height: 20px;
            margin-right: 10px;
        }
    </style>
</head>
<body>

    <header>
        <button onclick="goHome()">Home</button>
        <button onclick="goLogin()">Login</button>
    </header>

    <section>
        <div class="info-block" onclick="goInfoPage('http://127.0.0.1:5000/mini_factory__1_/mini_factory__1_production/info_capteur_env')">
            <h2>Capteurs environnement</h2>

            <div class="info-row">
                <img src="{{url_for('static', filename='icone_temperature.png')}}" alt="Icon_temp">
                <p>Températures air</p>
                <!-- Affichez la dernière valeur de température -->
                <span>{{last_temperature }}</span>
            </div>
            
            <div class="info-row">
                <img src="{{url_for('static', filename='icone_co2.png')}}" alt="Icon_cO0">
                <p>Taux CO2 dans l’air</p>
                <span>{{last_co2}}</span>
            </div>
            <div class="info-row">
                <img src="{{url_for('static', filename='icone_humidite.png')}}" alt="Icon_humidite">
                <p>Taux humidité dans l’air</p>
                <span>{{last_humidite}}</span>
            </div>
            <div class="info-row">
                <img src="{{url_for('static', filename='icone_luminosite.png')}}" alt="Icon_luminosite">
                <p>Luminosité</p>
                <span>{{last_luminosite}}</span>
            </div>
            <div class="info-row">
                <img src="{{url_for('static', filename='icone_ath.png')}}" alt="Icon_ath">
                <p>Pression Ath</p>
                <span>{{last_ath}}</span>
            </div>
        </div>

        <div class="info-block" onclick="goInfoPage('http://127.0.0.1:5000/mini_factory__1_/mini_factory__1_production/Gestion_stock')">
            <h2>Gestion du stock</h2>
            <div class="info-row">
                <img src="{{url_for('static', filename='rond_blanc.png')}}" alt="blanc">
                <p>rond blanc</p>
                <span>{{nb_blanc}}</span>
            </div>
            <div class="info-row">
                <img src="{{url_for('static', filename='rond_bleu.png')}}" alt="bleu">
                <p>rond bleu</p>
                <span>{{nb_bleu}}</span>
            </div>
            <div class="info-row">
                <img src="{{url_for('static', filename='rond_rouge.png')}}" alt="rouge">
                <p>rond rouge</p>
                <span>{{nb_rouge}}</span>
            </div>
        </div>

        <div class="info-block" onclick="goInfoPage('http://127.0.0.1/info3')">
            <h2>Ordre de frabrication</h2>
            <div class="info-row">
                <img src="{{url_for('static', filename='OF.png')}}" alt="OF">
                <p>date du dernier OF</p>
                <span>{{date_of}}</span>
            </div>
            <div class="info-row">
            {% if (couleur_of == 1) %}
                <img src="{{ url_for('static', filename='rond_bleu.png') }}" alt="bleu">
            {% elif (couleur_of == 2) %}
                <img src="{{ url_for('static', filename='rond_rouge.png') }}" alt="rouge">
            {% elif (couleur_of == 3) %}
                <img src="{{ url_for('static', filename='rond_blanc.png') }}" alt="blanc">
            {% elif (couleur_of == 99) %}
                <img src="{{ url_for('static', filename='vide.png') }}" alt="vide">
            {% else %}
                <p>BUG</p>
            {% endif %}
                <p>Couleur du dernier OF</p>
                <span>1</span>
            </div>
        </div>

        <div class="info-block" onclick="goInfoPage('http://0.0.0.0/info4')">
            <h2>Gestion d'erreur</h2>
            <div class="info-row">
                <img src="{{url_for('static', filename='date.png')}}" alt="date">
                <p>Date de l'erreur</p>
                <span>05/01/2024:09:17</span>
            </div>
            <div class="info-row">
                <img src="{{url_for('static', filename='erreur.png')}}" alt="Icon">
                <p>Code erreur</p>
                <span>12</span>
            </div>
            <div class="info-row">

                <p>erreur sur le produit</p>
                <span>1</span>
            </div>
        </div>

        <!-- Ajouter davantage de blocs d'informations si nécessaire -->

    </section>

    <script>
        function goHome() {
            // Rediriger vers l'IP principale (0.0.0.0)
            window.location.href = "http://127.0.0.1:5000";
        }

        function goLogin() {
            // Ajouter le code de redirection vers la page de login ici
            alert("Fonctionnalité de login à implémenter.");
        }

        function goInfoPage(link) {
            // Rediriger vers le lien spécifié
            window.location.href = link;
        }
    </script>

</body>
</html>
